<!DOCTYPE html> <html> <head> <meta http-equiv="Content-Type" content="text/html; charset=UTF-8"> <meta charset="utf-8"> <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"> <meta http-equiv="X-UA-Compatible" content="IE=edge"> <title> Render Bezier to SVG in Blender | Ivan ðŸ‡ºðŸ‡¦ Puhachov </title> <meta name="author" content="Ivan ðŸ‡ºðŸ‡¦ Puhachov"> <meta name="description" content="Rendering 3D vector curves to 2D vector curves (polylines) with visibility in Blender"> <meta name="keywords" content="geometry, graphics, phd, montreal, computer graphics"> <meta property="og:site_name" content="Ivan ðŸ‡ºðŸ‡¦ Puhachov"> <meta property="og:type" content="website"> <meta property="og:title" content="Ivan ðŸ‡ºðŸ‡¦ Puhachov | Render Bezier to SVG in Blender"> <meta property="og:url" content="https://puhachov.xyz/projects/BezierCurve_to_SVG_in_Blender/"> <meta property="og:description" content="Rendering 3D vector curves to 2D vector curves (polylines) with visibility in Blender"> <meta property="og:image" content="/assets/img/prof_pic.jpg"> <meta property="og:locale" content="en"> <meta name="twitter:card" content="summary"> <meta name="twitter:title" content="Render Bezier to SVG in Blender"> <meta name="twitter:description" content="Rendering 3D vector curves to 2D vector curves (polylines) with visibility in Blender"> <meta name="twitter:image" content="/assets/img/prof_pic.jpg"> <meta name="twitter:site" content="@ivanpuhachov"> <meta name="twitter:creator" content="@ivanpuhachov"> <link rel="stylesheet" href="/assets/css/bootstrap.min.css?a4b3f509e79c54a512b890d73235ef04"> <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/mdbootstrap@4.20.0/css/mdb.min.css" integrity="sha256-jpjYvU3G3N6nrrBwXJoVEYI/0zw8htfFnhT9ljN3JJw=" crossorigin="anonymous"> <link defer rel="stylesheet" href="https://unpkg.com/bootstrap-table@1.22.1/dist/bootstrap-table.min.css"> <link rel="stylesheet" href="/assets/css/academicons.min.css?f0b7046b84e425c55f3463ac249818f5"> <link rel="stylesheet" type="text/css" href="https://fonts.googleapis.com/css?family=Roboto:300,400,500,700|Roboto+Slab:100,300,400,500,700|Material+Icons"> <link rel="stylesheet" href="/assets/css/jekyll-pygments-themes-github.css?591dab5a4e56573bf4ef7fd332894c99" media="" id="highlight_theme_light"> <link rel="shortcut icon" href="data:image/svg+xml,&lt;svg%20xmlns=%22http://www.w3.org/2000/svg%22%20viewBox=%220%200%20100%20100%22&gt;&lt;text%20y=%22.9em%22%20font-size=%2290%22&gt;%F0%9F%8D%BF&lt;/text&gt;&lt;/svg&gt;"> <link rel="stylesheet" href="/assets/css/main.css?d41d8cd98f00b204e9800998ecf8427e"> <link rel="canonical" href="https://puhachov.xyz/projects/BezierCurve_to_SVG_in_Blender/"> <link rel="stylesheet" href="/assets/css/jekyll-pygments-themes-native.css?5847e5ed4a4568527aa6cfab446049ca" media="none" id="highlight_theme_dark"> <script src="/assets/js/theme.js?bf50d6d9dd867d3e0f3b0add94449649"></script> <script defer src="https://cdn.jsdelivr.net/npm/medium-zoom@1.0.8/dist/medium-zoom.min.js" integrity="sha256-7PhEpEWEW0XXQ0k6kQrPKwuoIomz8R8IYyuU1Qew4P8=" crossorigin="anonymous"></script> <script defer src="/assets/js/zoom.js?85ddb88934d28b74e78031fd54cf8308"></script> <script src="https://cdn.jsdelivr.net/npm/jquery@3.6.0/dist/jquery.min.js" integrity="sha256-/xUj+3OJU5yExlq6GSYGSHk7tPXikynS7ogEvDej/m4=" crossorigin="anonymous"></script> <script type="text/javascript">window.MathJax={tex:{tags:"ams"}};</script> <script defer type="text/javascript" id="MathJax-script" src="https://cdn.jsdelivr.net/npm/mathjax@3.2.0/es5/tex-mml-chtml.js"></script> <script defer src="https://polyfill.io/v3/polyfill.min.js?features=es6"></script> <script src="/assets/js/distillpub/template.v2.js"></script> <script src="/assets/js/distillpub/transforms.v2.js"></script> <script src="/assets/js/distillpub/overrides.js"></script> </head> <body> <d-front-matter> <script async type="text/json">
      {
            "title": "Render Bezier to SVG in Blender",
            "description": "Rendering 3D vector curves to 2D vector curves (polylines) with visibility in Blender",
            "published": "January 27, 2024",
            "authors": [
              
            ],
            "katex": {
              "delimiters": [
                {
                  "left": "$",
                  "right": "$",
                  "display": false
                },
                {
                  "left": "$$",
                  "right": "$$",
                  "display": true
                }
              ]
            }
          }
    </script> </d-front-matter> <header> <nav id="navbar" class="navbar navbar-light navbar-expand-sm fixed-top" role="navigation"> <div class="container"> <a class="navbar-brand title font-weight-lighter" href="/"> <span class="font-weight-bold">IvanÂ </span> ðŸ‡ºðŸ‡¦Â  Puhachov </a> <button class="navbar-toggler collapsed ml-auto" type="button" data-toggle="collapse" data-target="#navbarNav" aria-controls="navbarNav" aria-expanded="false" aria-label="Toggle navigation"> <span class="sr-only">Toggle navigation</span> <span class="icon-bar top-bar"></span> <span class="icon-bar middle-bar"></span> <span class="icon-bar bottom-bar"></span> </button> <div class="collapse navbar-collapse text-right" id="navbarNav"> <ul class="navbar-nav ml-auto flex-nowrap"> <li class="nav-item "> <a class="nav-link" href="/">about </a> </li> <li class="nav-item "> <a class="nav-link" href="/publications/">research </a> </li> <li class="nav-item active"> <a class="nav-link" href="/projects/">projects <span class="sr-only">(current)</span> </a> </li> <li class="nav-item "> <a class="nav-link" href="/blog/">blog </a> </li> <li class="nav-item "> <a class="nav-link" href="/cv/">cv </a> </li> <li class="toggle-container"> <button id="light-toggle" title="Change theme"> <i class="fa-solid fa-moon"></i> <i class="fa-solid fa-sun"></i> </button> </li> </ul> </div> </div> </nav> <progress id="progress" value="0"> <div class="progress-container"> <span class="progress-bar"></span> </div> </progress> </header> <div class="post distill"> <d-title> <h1>Render Bezier to SVG in Blender</h1> <p>Rendering 3D vector curves to 2D vector curves (polylines) with visibility in Blender</p> </d-title> <d-article> <d-contents> <nav class="l-text figcaption"> <h3>Contents</h3> <div> <a href="#python-script">Python Script</a> </div> <div> <a href="#add-pip-package-to-blender-python">Add pip package to Blender Python</a> </div> </nav> </d-contents> <p>Setup: you have a BezierCurve in blender, and you would like to render it to svg file.</p> <div class="row mt-3"> <div class="col-sm mt-3 mt-md-0"> <figure> <picture> <source class="responsive-img-srcset" srcset="/assets/img/svg_blender_rendering/blender_screen-480.webp 480w,/assets/img/svg_blender_rendering/blender_screen-800.webp 800w,/assets/img/svg_blender_rendering/blender_screen-1400.webp 1400w," sizes="95vw" type="image/webp"></source> <img src="/assets/img/svg_blender_rendering/blender_screen.png" class="img-fluid rounded z-depth-1 no-shadow" width="100%" height="auto" data-zoomable="" onerror="this.onerror=null; $('.responsive-img-srcset').remove();"> </picture> </figure> </div> <div class="col-sm mt-3 mt-md-0"> <figure> <picture> <source class="responsive-img-srcset" srcset="/assets/img/svg_blender_rendering/result_torus-480.webp 480w,/assets/img/svg_blender_rendering/result_torus-800.webp 800w,/assets/img/svg_blender_rendering/result_torus-1400.webp 1400w," sizes="95vw" type="image/webp"></source> <img src="/assets/img/svg_blender_rendering/result_torus.png" class="img-fluid rounded z-depth-1 no-shadow" width="100%" height="auto" data-zoomable="" onerror="this.onerror=null; $('.responsive-img-srcset').remove();"> </picture> </figure> </div> </div> <p>SVG file:Â <a href="/assets/img/svg_blender_rendering/winding.svg">winding.svg</a></p> <p>You can render curves withÂ <strong>Blender Add-on with BÃ©zier Utility Operations</strong> (<a href="https://github.com/Shriinivas/blenderbezierutils" rel="external nofollow noopener" target="_blank">https://github.com/Shriinivas/blenderbezierutils</a>) but it does not take into account <strong>curve visibility</strong> (curve is still there even though it is occluded by an object in the scene). See the inset here.</p> <div class="l-gutter"> <figure> <picture> <source class="responsive-img-srcset" srcset="/assets/img/svg_blender_rendering/result_torus_bad-480.webp 480w,/assets/img/svg_blender_rendering/result_torus_bad-800.webp 800w,/assets/img/svg_blender_rendering/result_torus_bad-1400.webp 1400w," sizes="95vw" type="image/webp"></source> <img src="/assets/img/svg_blender_rendering/result_torus_bad.png" class="img-fluid rounded z-depth-1" width="100%" height="auto" data-zoomable="" onerror="this.onerror=null; $('.responsive-img-srcset').remove();"> </picture> </figure> </div> <p>SVG file:Â <a href="/assets/img/svg_blender_rendering/winding_wrong.svg">winding_wrong.svg</a></p> <h2 id="python-script">Python Script</h2> <p>TLDR: sample points on the curve and check if this point is visible from camera or it is occluded by an object in your scene â€“ see <code class="language-plaintext highlighter-rouge">ray_cast</code>Â function. Then compose polylines from visible points.</p> <blockquote> <p><strong>Limitation</strong>: the result will be a collection of polylines, not bezier curves. It seems possible to do it properly by projecting bezier curve on screen space and splitting it into visible and invisible parts using same logic as here.</p> </blockquote> <p><strong>Warning</strong>: this is a demo script that only takes one curve. You might want to update it to render multiple curves to one SVG file</p> <div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kn">import</span> <span class="n">bpy</span>
<span class="kn">import</span> <span class="n">bpy_extras</span>
<span class="kn">import</span> <span class="n">svgwrite</span>

<span class="n">curve</span> <span class="o">=</span> <span class="n">bpy</span><span class="p">.</span><span class="n">data</span><span class="p">.</span><span class="n">objects</span><span class="p">.</span><span class="nf">get</span><span class="p">(</span><span class="sh">"</span><span class="s">myCurve.003</span><span class="sh">"</span><span class="p">)</span>  <span class="c1"># name of curve to render. make this script a loop if you want to iterate over many curves
</span><span class="n">camera</span> <span class="o">=</span> <span class="n">bpy</span><span class="p">.</span><span class="n">data</span><span class="p">.</span><span class="n">objects</span><span class="p">.</span><span class="nf">get</span><span class="p">(</span><span class="sh">"</span><span class="s">Camera</span><span class="sh">"</span><span class="p">)</span>

<span class="c1"># Get the active scene
</span><span class="n">scene</span> <span class="o">=</span> <span class="n">bpy</span><span class="p">.</span><span class="n">context</span><span class="p">.</span><span class="n">scene</span>

<span class="c1"># Get the dependency graph for the scene
</span><span class="n">depsgraph</span> <span class="o">=</span> <span class="n">bpy</span><span class="p">.</span><span class="n">context</span><span class="p">.</span><span class="nf">evaluated_depsgraph_get</span><span class="p">()</span>

<span class="n">list_of_lines</span> <span class="o">=</span> <span class="p">[]</span>
<span class="n">current_line</span> <span class="o">=</span> <span class="p">[]</span>

<span class="c1"># here we form a list of 3d points to check for visibility and build polylines
# assuming that Bezier curve is densely subdivided, we only look a the vertices
</span><span class="n">points_to_check</span> <span class="o">=</span> <span class="nf">list</span><span class="p">(</span><span class="nf">enumerate</span><span class="p">(</span><span class="n">curve</span><span class="p">.</span><span class="n">data</span><span class="p">.</span><span class="n">splines</span><span class="p">[</span><span class="mi">0</span><span class="p">].</span><span class="n">bezier_points</span><span class="p">))</span>
<span class="c1"># if curve data contains multiple splines, iterate over curve.data.splines to form points_to_check
</span>
<span class="c1"># when cyclic_u we need to double-check the starting point
</span><span class="k">if</span> <span class="n">curve</span><span class="p">.</span><span class="n">data</span><span class="p">.</span><span class="n">splines</span><span class="p">[</span><span class="mi">0</span><span class="p">].</span><span class="n">use_cyclic_u</span><span class="p">:</span>
    <span class="n">points_to_check</span><span class="p">.</span><span class="nf">append</span><span class="p">(</span><span class="n">points_to_check</span><span class="p">[</span><span class="mi">0</span><span class="p">])</span>

<span class="nf">for </span><span class="p">(</span><span class="n">i</span><span class="p">,</span><span class="n">bp</span><span class="p">)</span> <span class="ow">in</span> <span class="n">points_to_check</span><span class="p">:</span>
    <span class="c1"># https://docs.blender.org/api/current/bpy.types.Scene.html#bpy.types.Scene.ray_cast
</span>    <span class="n">point</span> <span class="o">=</span> <span class="n">bp</span><span class="p">.</span><span class="n">co</span>
    <span class="n">direction</span> <span class="o">=</span> <span class="p">(</span><span class="n">point</span> <span class="o">-</span> <span class="n">camera</span><span class="p">.</span><span class="n">location</span><span class="p">).</span><span class="nf">normalized</span><span class="p">()</span>
<span class="c1">#    print(f"\n===={i}")
#    print(f"Point: {point}")
#    print("Direction:", direction)
</span>    <span class="n">is_intersecting_solids</span><span class="p">,</span> <span class="n">location</span><span class="p">,</span> <span class="n">normal</span><span class="p">,</span> <span class="n">index</span><span class="p">,</span> <span class="nb">object</span><span class="p">,</span> <span class="n">matrix</span> <span class="o">=</span> <span class="n">bpy</span><span class="p">.</span><span class="n">context</span><span class="p">.</span><span class="n">scene</span><span class="p">.</span><span class="nf">ray_cast</span><span class="p">(</span>
        <span class="n">depsgraph</span><span class="p">,</span>
        <span class="n">camera</span><span class="p">.</span><span class="n">location</span><span class="p">,</span>
        <span class="n">direction</span><span class="p">,</span>
    <span class="p">)</span>
    <span class="c1"># ray_cast will not compute intersection with Bezier curve, so is_intersecting_solids is True when ray falls on some solid object in your scene
</span>    <span class="c1"># let's check if the interection happens after we see this point on a curve
</span>    <span class="c1"># if is_intersecting_solids is False we don't need to compute it
</span>    <span class="n">is_intersecting_after</span> <span class="o">=</span> <span class="bp">False</span>
    <span class="k">if</span> <span class="n">is_intersecting_solids</span><span class="p">:</span>
        <span class="n">distance_curve</span> <span class="o">=</span> <span class="p">(</span><span class="n">point</span> <span class="o">-</span> <span class="n">camera</span><span class="p">.</span><span class="n">location</span><span class="p">).</span><span class="n">length</span>
        <span class="n">distance_object</span> <span class="o">=</span> <span class="p">(</span><span class="n">location</span> <span class="o">-</span> <span class="n">camera</span><span class="p">.</span><span class="n">location</span><span class="p">).</span><span class="n">length</span>
<span class="c1">#        print(f"distance curve: {distance_curve}")
#        print(f"distance object: {distance_object}")
</span>        <span class="n">is_intersecting_after</span> <span class="o">=</span> <span class="n">distance_object</span> <span class="o">&gt;</span> <span class="n">distance_curve</span>
    
    <span class="n">point_is_visible</span> <span class="o">=</span> <span class="p">(</span><span class="ow">not</span> <span class="n">is_intersecting_solids</span><span class="p">)</span> <span class="ow">or</span> <span class="n">is_intersecting_after</span>
    
<span class="err">â€ƒâ€ƒâ€ƒâ€ƒ</span><span class="c1"># point is not occluded by a shape. now we find its pixel coordinates and don't plot it if it is outside the frame
</span>    <span class="n">point_is_in_frame</span> <span class="o">=</span> <span class="bp">False</span>
    <span class="k">if</span> <span class="n">point_is_visible</span><span class="p">:</span>
        <span class="c1"># check that it is in frame using normalized device coordinates (NDC)
</span>        <span class="c1"># https://docs.blender.org/api/current/bpy_extras.object_utils.html#bpy_extras.object_utils.world_to_camera_view
</span>        <span class="n">ndc_coords</span> <span class="o">=</span> <span class="n">bpy_extras</span><span class="p">.</span><span class="n">object_utils</span><span class="p">.</span><span class="nf">world_to_camera_view</span><span class="p">(</span>
            <span class="n">scene</span><span class="p">,</span> <span class="n">camera</span><span class="p">,</span> <span class="n">point</span>
        <span class="p">)</span>
<span class="c1">#        print(ndc_coords)
</span>        <span class="nf">if </span><span class="p">(</span><span class="mi">0</span><span class="o">&lt;=</span> <span class="n">ndc_coords</span><span class="p">.</span><span class="n">x</span> <span class="o">&lt;=</span> <span class="mi">1</span><span class="p">)</span> <span class="ow">and</span> <span class="p">(</span><span class="mi">0</span><span class="o">&lt;=</span> <span class="n">ndc_coords</span><span class="p">.</span><span class="n">y</span> <span class="o">&lt;=</span> <span class="mi">1</span><span class="p">)</span> <span class="ow">and</span> <span class="p">(</span><span class="n">ndc_coords</span><span class="p">.</span><span class="n">z</span> <span class="o">&gt;=</span> <span class="mi">0</span><span class="p">):</span>
            <span class="n">point_is_in_frame</span> <span class="o">=</span> <span class="bp">True</span>
            <span class="c1"># calculate pixel coordinates in camera
</span>            <span class="n">render_scale</span> <span class="o">=</span> <span class="n">scene</span><span class="p">.</span><span class="n">render</span><span class="p">.</span><span class="n">resolution_percentage</span> <span class="o">/</span> <span class="mi">100</span>
            <span class="n">point2d</span> <span class="o">=</span> <span class="p">[</span><span class="n">ndc_coords</span><span class="p">.</span><span class="n">x</span> <span class="o">*</span> <span class="n">scene</span><span class="p">.</span><span class="n">render</span><span class="p">.</span><span class="n">resolution_x</span> <span class="o">*</span> <span class="n">render_scale</span><span class="p">,</span> <span class="p">(</span><span class="mi">1</span> <span class="o">-</span> <span class="n">ndc_coords</span><span class="p">.</span><span class="n">y</span><span class="p">)</span> <span class="o">*</span> <span class="n">scene</span><span class="p">.</span><span class="n">render</span><span class="p">.</span><span class="n">resolution_y</span> <span class="o">*</span> <span class="n">render_scale</span><span class="p">]</span>
            <span class="n">current_line</span><span class="p">.</span><span class="nf">append</span><span class="p">(</span><span class="n">point2d</span><span class="p">)</span>
<span class="c1">#            print("point 2d:", point2d)
</span>    <span class="k">if</span> <span class="n">point_is_in_frame</span><span class="p">:</span>
        <span class="k">continue</span>
    <span class="k">else</span><span class="p">:</span>
        <span class="k">if</span> <span class="nf">len</span><span class="p">(</span><span class="n">current_line</span><span class="p">)</span> <span class="o">&gt;</span> <span class="mi">1</span><span class="p">:</span>
            <span class="n">list_of_lines</span><span class="p">.</span><span class="nf">append</span><span class="p">(</span><span class="n">current_line</span><span class="p">)</span>
        <span class="n">current_line</span> <span class="o">=</span> <span class="p">[]</span> 
<span class="c1">#    break
</span>
<span class="k">if</span> <span class="nf">len</span><span class="p">(</span><span class="n">current_line</span><span class="p">)</span> <span class="o">&gt;</span> <span class="mi">1</span><span class="p">:</span>
    <span class="n">list_of_lines</span><span class="p">.</span><span class="nf">append</span><span class="p">(</span><span class="n">current_line</span><span class="p">)</span>
    <span class="n">current_line</span> <span class="o">=</span> <span class="p">[]</span> 

<span class="nf">print</span><span class="p">(</span><span class="sa">f</span><span class="sh">"</span><span class="se">\n</span><span class="s">---&gt; found </span><span class="si">{</span><span class="nf">len</span><span class="p">(</span><span class="n">list_of_lines</span><span class="p">)</span><span class="si">}</span><span class="s"> lines</span><span class="sh">"</span><span class="p">)</span>
<span class="c1">#print(list_of_lines)
</span>

<span class="c1"># utility function to output svg file
</span><span class="k">def</span> <span class="nf">write_lines_tosvg</span><span class="p">(</span>
    <span class="n">lines_list</span><span class="p">,</span>
    <span class="n">filename</span><span class="o">=</span><span class="sh">"</span><span class="s">lines2.svg</span><span class="sh">"</span><span class="p">,</span>
    <span class="n">width</span><span class="o">=</span><span class="n">scene</span><span class="p">.</span><span class="n">render</span><span class="p">.</span><span class="n">resolution_x</span><span class="p">,</span>
    <span class="n">height</span><span class="o">=</span><span class="n">scene</span><span class="p">.</span><span class="n">render</span><span class="p">.</span><span class="n">resolution_y</span><span class="p">,</span>
<span class="p">):</span>
    <span class="n">dwg</span> <span class="o">=</span> <span class="n">svgwrite</span><span class="p">.</span><span class="nc">Drawing</span><span class="p">(</span><span class="n">filename</span><span class="p">,</span> <span class="n">profile</span><span class="o">=</span><span class="sh">'</span><span class="s">tiny</span><span class="sh">'</span><span class="p">)</span>
    <span class="n">dwg</span><span class="p">[</span><span class="sh">'</span><span class="s">width</span><span class="sh">'</span><span class="p">]</span> <span class="o">=</span> <span class="sh">'</span><span class="s">{}px</span><span class="sh">'</span><span class="p">.</span><span class="nf">format</span><span class="p">(</span><span class="n">width</span><span class="p">)</span>
    <span class="n">dwg</span><span class="p">[</span><span class="sh">'</span><span class="s">height</span><span class="sh">'</span><span class="p">]</span> <span class="o">=</span> <span class="sh">'</span><span class="s">{}px</span><span class="sh">'</span><span class="p">.</span><span class="nf">format</span><span class="p">(</span><span class="n">height</span><span class="p">)</span>
    <span class="k">for</span> <span class="n">line</span> <span class="ow">in</span> <span class="n">lines_list</span><span class="p">:</span>
        <span class="n">polyline</span> <span class="o">=</span> <span class="n">dwg</span><span class="p">.</span><span class="nf">polyline</span><span class="p">(</span><span class="n">line</span><span class="p">,</span> <span class="n">stroke</span><span class="o">=</span><span class="sh">'</span><span class="s">black</span><span class="sh">'</span><span class="p">,</span> <span class="n">fill</span><span class="o">=</span><span class="sh">'</span><span class="s">none</span><span class="sh">'</span><span class="p">)</span>
        <span class="n">dwg</span><span class="p">.</span><span class="nf">add</span><span class="p">(</span><span class="n">polyline</span><span class="p">)</span>
    <span class="n">dwg</span><span class="p">.</span><span class="nf">save</span><span class="p">()</span>


<span class="nf">write_lines_tosvg</span><span class="p">(</span><span class="n">list_of_lines</span><span class="p">)</span>
</code></pre></div></div> <h3 id="add-pip-package-to-blender-python">Add pip package to Blender Python</h3> <p>In macos:Â </p> <div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code>./Applications/Blender.app/Contents/Resources/4.0/python/bin/python3.10 <span class="nt">-m</span> pip <span class="nb">install </span>svgwrite
</code></pre></div></div> </d-article> <d-appendix> <d-footnote-list></d-footnote-list> <d-citation-list></d-citation-list> </d-appendix> <d-bibliography src="/assets/bibliography/"></d-bibliography> </div> <footer class="sticky-bottom mt-5" role="contentinfo"> <div class="container"> Â© Copyright 2024 Ivan ðŸ‡ºðŸ‡¦ Puhachov. Powered by <a href="http://jekyllrb.com/" target="_blank" rel="external nofollow noopener">Jekyll</a> with <a href="https://github.com/alshedivat/al-folio" rel="external nofollow noopener" target="_blank">al-folio</a> theme. </div> </footer> <script src="/assets/js/bootstrap.bundle.min.js"></script> <script src="https://cdn.jsdelivr.net/npm/mdbootstrap@4.20.0/js/mdb.min.js" integrity="sha256-NdbiivsvWt7VYCt6hYNT3h/th9vSTL4EDWeGs5SN3DA=" crossorigin="anonymous"></script> <script type="text/javascript">function progressBarSetup(){"max"in document.createElement("progress")?(initializeProgressElement(),$(document).on("scroll",function(){progressBar.attr({value:getCurrentScrollPosition()})}),$(window).on("resize",initializeProgressElement)):(resizeProgressBar(),$(document).on("scroll",resizeProgressBar),$(window).on("resize",resizeProgressBar))}function getCurrentScrollPosition(){return $(window).scrollTop()}function initializeProgressElement(){let e=$("#navbar").outerHeight(!0);$("body").css({"padding-top":e}),$("progress-container").css({"padding-top":e}),progressBar.css({top:e}),progressBar.attr({max:getDistanceToScroll(),value:getCurrentScrollPosition()})}function getDistanceToScroll(){return $(document).height()-$(window).height()}function resizeProgressBar(){progressBar.css({width:getWidthPercentage()+"%"})}function getWidthPercentage(){return getCurrentScrollPosition()/getDistanceToScroll()*100}const progressBar=$("#progress");window.onload=function(){setTimeout(progressBarSetup,50)};</script> </body> </html>